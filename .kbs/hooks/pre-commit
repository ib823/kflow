#!/bin/bash
#
# KBS Pre-Commit Hook
# Runs quick quality gates before every commit
#

echo ""
echo "╔══════════════════════════════════════════════════════════════╗"
echo "║  KBS PRE-COMMIT: Running Quick Quality Gates                 ║"
echo "╚══════════════════════════════════════════════════════════════╝"

cd "$(git rev-parse --show-toplevel)"

# Run quick pipeline
if ./.kbs/kbs.sh quick; then
    echo ""
    echo "✅ Pre-commit checks PASSED"
    exit 0
else
    echo ""
    echo "❌ Pre-commit checks FAILED"
    echo "Fix the issues above before committing."
    exit 1
fi
